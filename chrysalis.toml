# Chrysalis Configuration
# Modern build system for Flutter Web

[flutter]
# Whether to run `flutter pub get` before build
run_pub_get = true

# Build in release mode (false = profile mode)
release = true

# Target directory for Flutter output
target_dir = "build/web"

# Web renderer: "auto", "canvaskit", or "html"
web_renderer = "auto"

# Base href for the app (optional)
# base_href = "/app/"

# Enable source maps for debugging
source_maps = false

# Enable tree shaking of icons
tree_shake_icons = true

# Additional Flutter build arguments
extra_args = []

[build]
# Build directory (same as flutter.target_dir)
build_dir = "build/web"

# Chunk size in kilobytes
chunk_size_kb = 400

# Minimum file size for chunking in kilobytes
min_chunk_size_kb = 400

# Hash length for content-based filenames
hash_length = 8

# Clean build directory before building
clean_before_build = true

# File patterns to exclude from processing
exclude_patterns = ["*.map", "*.txt"]

# Enable verbose output
verbose = false

# Number of parallel jobs (0 = number of CPUs)
parallel_jobs = 0

[plugins.minify]
# Enable minification
enabled = true

# Minify JavaScript files
minify_js = true

# Minify CSS files
minify_css = true

# Minify HTML files
minify_html = true

# Minify JSON files
minify_json = true

[plugins.hash]
# Enable content-based hashing
enabled = true

# File patterns to include
include = ["*.js", "*.css"]

# File patterns to exclude
exclude = ["*.map"]

[plugins.chunk]
# Enable file chunking
enabled = true

# File patterns to include
include = ["*.js"]

# File patterns to exclude (service worker should not be chunked)
exclude = ["flutter_service_worker.js"]

[plugins.inject]
# Enable chunk loader injection
enabled = true

# Inline manifest in chunk loader
inline_manifest = true
